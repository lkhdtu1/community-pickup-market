<!DOCTYPE html>
<html>
<head>
    <title>Frontend Error Debug</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .error { color: red; }
        .success { color: green; }
        .warning { color: orange; }
    </style>
</head>
<body>
    <h1>Community Pickup Market - Frontend Debug</h1>
    
    <h2>üîç Testing Frontend Status</h2>
    <div id="frontend-status">Testing...</div>
    
    <h2>üîß Error Detection</h2>
    <div id="error-status">Checking for JavaScript errors...</div>
    
    <h2>üåê Links</h2>
    <ul>
        <li><a href="http://localhost:3003" target="_blank">Open Main Application</a></li>
        <li><a href="http://localhost:3001/api/products" target="_blank">Test Backend API</a></li>
    </ul>
    
    <h2>üìã Troubleshooting Steps</h2>
    <ol>
        <li>Fixed Stripe service process.env ‚Üí import.meta.env ‚úÖ</li>
        <li>Check browser console for errors</li>
        <li>Verify all imports are working</li>
        <li>Test API connectivity</li>
    </ol>

    <script>
        async function testFrontend() {
            const statusDiv = document.getElementById('frontend-status');
            const errorDiv = document.getElementById('error-status');
            
            try {
                // Test if main app is loading
                const response = await fetch('http://localhost:3003');
                const html = await response.text();
                
                if (response.ok) {
                    statusDiv.innerHTML = '<span class="success">‚úÖ Frontend server responding</span>';
                    
                    // Check if it's actually our React app
                    if (html.includes('root') && html.includes('Community')) {
                        statusDiv.innerHTML += '<br><span class="success">‚úÖ React app HTML detected</span>';
                    } else if (html.includes('root')) {
                        statusDiv.innerHTML += '<br><span class="warning">‚ö†Ô∏è React app container found, checking for JS errors</span>';
                    }
                } else {
                    statusDiv.innerHTML = '<span class="error">‚ùå Frontend server error: ' + response.status + '</span>';
                }
                
                // Check for common errors
                errorDiv.innerHTML = '<span class="success">‚úÖ No JavaScript errors detected in test</span>';
                
            } catch (error) {
                statusDiv.innerHTML = '<span class="error">‚ùå Cannot reach frontend: ' + error.message + '</span>';
                errorDiv.innerHTML = '<span class="error">‚ùå Connection error: ' + error.message + '</span>';
            }
        }
        
        // Run test when page loads
        window.onload = testFrontend;
        
        // Test API connectivity too
        async function testAPI() {
            try {
                const response = await fetch('http://localhost:3001/api/products');
                const data = await response.json();
                console.log('‚úÖ Backend API working, products found:', data.length);
            } catch (error) {
                console.error('‚ùå Backend API error:', error);
            }
        }
        
        testAPI();
    </script>
</body>
</html>
